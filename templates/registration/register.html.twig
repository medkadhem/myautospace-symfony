{% extends 'base.html.twig' %}

{% block title %}Create Account - MyAutoSpace{% endblock %}

{% block body %}
  <div class="form" style="max-width: 520px;">
    <h2>Create Your Account</h2>
    <p>Join MyAutoSpace to buy, sell, and discover automotive services</p>

    {{ form_start(registrationForm, {'attr': {'novalidate': 'novalidate'}}) }}
      
      <div class="field">
        {{ form_label(registrationForm.email, 'Email Address') }}
        {{ form_widget(registrationForm.email, {'attr': {'placeholder': 'your@email.com', 'class': 'form-control'}}) }}
        {% if registrationForm.email.vars.errors %}
          <div class="alert error" style="margin-top: 8px; margin-bottom: 0;">
            {% for error in registrationForm.email.vars.errors %}
              <small>{{ error.message }}</small>
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <div class="field">
        {{ form_label(registrationForm.plainPassword, 'Password') }}
        {{ form_widget(registrationForm.plainPassword, {'attr': {'placeholder': '••••••••', 'class': 'form-control'}}) }}
        {% if registrationForm.plainPassword.vars.errors %}
          <div class="alert error" style="margin-top: 8px; margin-bottom: 0;">
            {% for error in registrationForm.plainPassword.vars.errors %}
              <small>{{ error.message }}</small>
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <div class="field">
        {{ form_label(registrationForm.phone, 'Phone Number') }}
        {{ form_widget(registrationForm.phone, {'attr': {'placeholder': '+216 XX XXX XXX', 'class': 'form-control'}}) }}
      </div>

      <div class="field">
        {{ form_label(registrationForm.role, 'Account Type') }}
        {{ form_widget(registrationForm.role, {'attr': {'class': 'form-control'}}) }}
      </div>

      <div class="actions">
        <button class="btn yellow btn-lg btn-block" type="submit">Create Account</button>
      </div>

      <div style="text-align: center; margin-top: 20px;">
        <p style="color: var(--muted); margin: 0; font-size: 14px;">
          Already have an account? 
          <a href="{{ path('app_login') }}" style="color: var(--yellow); text-decoration: none; font-weight: 700;">Sign In</a>
        </p>
      </div>

    {{ form_end(registrationForm) }}
  </div>
{% endblock %}
