{% extends 'base.html.twig' %}

{% block title %}{{ service.title }} - MyAutoSpace{% endblock %}

{% block body %}
<div class="modal-overlay">
  <div class="modal-content">
    <div class="modal-header">
      <h1>{{ service.title }}</h1>
      <a href="{{ path('app_service_index') }}" class="modal-close">âœ•</a>
    </div>

    <div class="modal-body">
      <div class="modal-left">
        <div class="main-photo" style="background: linear-gradient(135deg, var(--yellow), var(--primary-dark)); display: flex; align-items: center; justify-content: center; font-size: 80px;">
          ðŸ”§
        </div>

        <div class="price-section">
          <h2 class="price-display">${{ service.price }} TND</h2>
          <p class="status-label">{{ service.isActive ? 'Active' : 'Inactive' }}</p>
        </div>

        <div class="vehicle-details">
          <h3>Service Information</h3>
          <div class="detail-grid">
            <div class="detail-row">
              <span class="detail-label">Service Name:</span>
              <span class="detail-value">{{ service.title }}</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Duration:</span>
              <span class="detail-value">{{ service.duration }} minutes</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Category:</span>
              <span class="detail-value">{{ service.category.name }}</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Provider:</span>
              <span class="detail-value">{{ service.provider.email }}</span>
            </div>
          </div>
        </div>

        <div class="vehicle-details" style="margin-top: 24px;">
          <h3>Description</h3>
          <p style="color: var(--muted); margin: 0; line-height: 1.6;">{{ service.description }}</p>
        </div>
      </div>

      <div class="modal-right">
        <div class="action-panel">
          <button class="btn yellow btn-block" style="margin-bottom: 12px;">Book Service</button>
          <button class="btn black btn-block">Contact Provider</button>
        </div>

        <div class="vehicle-details">
          <h3>Service Stats</h3>
          <div class="detail-grid">
            <div class="detail-row">
              <span class="detail-label">Reservations:</span>
              <span class="detail-value">156</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Average Rating:</span>
              <span class="detail-value">4.8/5</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Response Time:</span>
              <span class="detail-value">&lt; 1 hour</span>
            </div>
          </div>
        </div>

        {% if is_granted('ROLE_USER') and app.user.id == service.provider.id %}
          <div style="margin-top: 20px; border-top: 1px solid rgba(255,255,255,.1); padding-top: 20px;">
            <a href="{{ path('app_service_edit', {id: service.id}) }}" class="btn" style="width: 100%; display: block; text-align: center; margin-bottom: 8px;">Edit Service</a>
            <a href="{{ path('app_service_index') }}" class="btn ghost" style="width: 100%; display: block; text-align: center;">Back</a>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
